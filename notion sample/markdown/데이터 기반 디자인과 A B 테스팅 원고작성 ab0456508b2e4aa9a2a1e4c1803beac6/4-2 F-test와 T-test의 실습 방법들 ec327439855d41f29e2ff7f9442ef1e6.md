# 4-2. F-test와 T-test의 실습 방법들

앞 장에서는 가설 검정의 개념과 R 코드를 사용한 예제들을 학습했지만, F-테스트나 T-테스트의 수행 방법은 다양합니다. 오피스 문서 도구인 구글 스프레드 시트나 엑셀 함수를 사용하여 매우 간단하게 결과를 얻을 수 있고, 통계계산기, 또는 AI 서비스를 통해서도 값을 얻고, 결과 해석에 대한 도움도 받을 수 있습니다. 앞으로 업무 환경에 맞게 다른 방법들을 사용할 수 있으니 여러가지 검정 방법들을 살펴보겠습니다. 

### 구글 스프레드 시트를 사용한 가설 검정 (F-test, T-test)

아래의 링크를 보면 구글 스프레드 시트와 엑셀에서 사용할 수 있는 FTEST, TTEST 함수에 관한 설명이 나와있습니다. 앞 장에서 함수 이해에 필요한 개념들을 학습했으므로 설명이 잘 이해될 것입니다. 함수의 사용 방법은 설명에 나와 있듯이 아주 쉽습니다. 답을 넣고 싶은 셀에서 상단 리본 메뉴의 함수>통계>FTEST/ TTEST를 선택하고, 적용할 데이터 범위와 옵션을 지정해 주면 검정에 필요한 p-value 값을 바로 출력해줍니다. 데이터량이 많고, 데이터 편집이 필요할 때는 R과 같이 프로그래밍적인 방법이 좋지만, 데이터량이 적은 경우에는 오피스 도구로 충분히 원하는 검정 결과를 얻을 수 있습니다. (24)(25)

[FTEST](https://support.google.com/docs/answer/7004183?hl=ko&ref_topic=3105600)

[TTEST](https://support.google.com/docs/answer/6055837?hl=ko)

### 엑셀의 분석도구팩을 사용한 가설 검정 (F-test, T-test)

이번에는 엑셀에서 제공하는 분석도구팩을 사용하여 좀 더 풍부한 해설 값을 출력해보겠습니다. 우선 엑셀 분석도구팩을 설치해야합니다. 사용 컴퓨터가 윈도우 PC인 경우 엑셀 상단 리본메뉴의 파일 >옵션 >추가기능 >이동 > 분석도구팩을 선택하여 설치합니다. 사용 컴퓨터가 맥 PC인 경우 엑셀 리본메뉴의 데이터 >분석도구 >분석도구팩을 선택하여 설치합니다. 

 분석 도구팩 설치 후, 상단 리본메뉴 데이터>데이터 분석> T검정/ F 검정 옵션선택 > 범위 설정 > 기타 출력 옵션 설정을 하면 아래 그림의 하단 표와 같이 정리된 표 형태로 검정 테스트 관련 값들이 출력됩니다. 

[그림 25]는 수업에서 사용한 연습 데이터로 3개 설문 문항에 대하여 각 문항의 A디자인(우), B디자인(좌)에 대한 사용자 응답 결과를 대응하여 입력하였고, 각 문항 별로 등분산 여부(FTEST)와 두 값의 차이 여부(TTEST)를 24, 25행에 출력한 사례입니다. 그리고 그림에서 상단 입력 내용 창에는 문항 2에 대하여 엑셀 함수 메뉴를 사용한 E25셀의 TTEST엑셀 함수 옵션을 보여줍니다. 그리고 28행 부터는 엑셀의 분석도구팩을 사용하여 TTEST 분석 내용을 표로 출력하였습니다. 

결과 내용을 보면 3개 문항 모두 FTEST에서 p-value가 0.05보다 크므로 두 그룹의 분산 차이가 없다는 등분산 만족 결과를 보여주고, 있고, TTEST에서 문항 1, 2는 p-value가 0.05보다 커서 두 그룹의 차이가 없다. 즉 결과가 개선되지 않았음을 알 수 있고, 문항 5는 p-value가 0.05보다 작아서 두 값의 차이가 있다. 즉, 디자인 B의 응답 값이 더 높다, 개선되었다는 판단을 할 수 있습니다. 1번 문항의 경우 31행의 평균값(Mean)을 보면 A디자인의 값이 더 높습니다. 하지만 T검정 값은 통계적으로 판단할 때 두 값이 차이가 없다고 판단합니다. 문항 2의 경우 B디자인의 평균값이 조금 더 높지만 이것은 T검정 값으로 볼 때 통계적 의미가 없는 차이여서 두 값의 차이가 없다고 판단했습니다. 이렇게 각 그룹의 평균값이 차이가 난다는 것만으로는 어떤 그룹의 값이 더 높거나 낮다고 판단할 수는 없다는 것을 알 수 있습니다. 

![[그림 25] 샘플 데이터에 대한 엑셀의 FTEST, TTEST 결과 출력 화면 ](4-2%20F-test%E1%84%8B%E1%85%AA%20T-test%E1%84%8B%E1%85%B4%20%E1%84%89%E1%85%B5%E1%86%AF%E1%84%89%E1%85%B3%E1%86%B8%20%E1%84%87%E1%85%A1%E1%86%BC%E1%84%87%E1%85%A5%E1%86%B8%E1%84%83%E1%85%B3%E1%86%AF%20ec327439855d41f29e2ff7f9442ef1e6/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-08-05_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_10.29.51.png)

[그림 25] 샘플 데이터에 대한 엑셀의 FTEST, TTEST 결과 출력 화면 

여기까지 수업을 하고나면, 어려워 보이던 F검정, T검정의 방법이 너무 간단해서 놀라고, 당연히 KPI가 개선 될 것으로 확신했던 개선 디자인 B의 값이 A디자인과 차이가 없다는 결과가 많이 나와서 다시 한 번 놀랍니다. 통계적 검정의 결과는 매우 보수적인 편입니다. 정말 확실한 차이가 있어야 두 그룹이 차이가 있다고 판정합니다. 이에 대한 자세한 대응 방법은 다음 단원의 실습 과제에서 더 공부하도록 하겠습니다. 

### 통계 계산기: T-Test Calculator를 사용한 가설 검정

아래 [그림 26]은 [그림 25]의 5번 문항 데이터를 T-Test Calculator 서비스에 넣어서 데이터 분석과 해석을 출력한 사례입니다. 이것은 웹기반의 통계 계산 서비스를 활용한 것으로, GUI메뉴로 데이터를 입력하면, 해당 통계 계산을 해서 출력과 자세한 데이터 분석을 제공합니다. 현재 테스트 화면에서는 두 데이터의 정규성에 문제가 있는 것으로 진단 되었습니다. 우리 테스트 데이터 갯수가 적기 때문에 정규성 만족 문제가 발생했고, 이 문제를 해결하기 위해 다른 방법(Calculate Mann-Whitney)으로 분석해볼 것을 권장하고 있습니다. 또한 데이터의 분석 내용을 그래프로 정리하여 이해하기 쉽게 해설해주고 있습니다.(26) 이렇게 통계 계산기 웹서비스를 사용하면 데이터 분석 인사이트에 대한 풍부한 해설과 추천 의견을 받아 문제 해결을 할 수 있습니다. 다만 해설에서 다루는 용어와 정의에 대한 이해 역량이 필요합니다. 어려운 해설 부분도 인공지능 서비스의 도움을 받으면 되니까 크게 걱정하지는 않아도 됩니다. 

![스크린샷 2024-08-06 오전 10.38.10.png](4-2%20F-test%E1%84%8B%E1%85%AA%20T-test%E1%84%8B%E1%85%B4%20%E1%84%89%E1%85%B5%E1%86%AF%E1%84%89%E1%85%B3%E1%86%B8%20%E1%84%87%E1%85%A1%E1%86%BC%E1%84%87%E1%85%A5%E1%86%B8%E1%84%83%E1%85%B3%E1%86%AF%20ec327439855d41f29e2ff7f9442ef1e6/%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2024-08-06_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%258C%25E1%2585%25A5%25E1%2586%25AB_10.38.10.png)

[Two Sample T-Test](https://www.statskingdom.com/140MeanT2eq.html)

참고로, 정규성을 불만족한 경우 (관측값이 30개가 안되는 경우)는 T-test가 부적합하므로 아래의 정규성 검정 테스트를 해보고,  샘플이 정규분포가 아니거나 수가 적을 때, 모수에 대한 가정을 전제로 하지 않고 모집단의 형태에 관계없이 주어진 데이터에서 직접 확률을 계산하는 Mann-Whitney U test 를 사용합니다. 

- 정규성 검정 (Shapiro-Wilk test)(27)

[Shapiro-Wilk test calculator: normality calculator, Q-Q plot](https://www.statskingdom.com/shapiro-wilk-test-calculator.html)

- 비모수 검정(Mann-Whitney U test)(28)

[Mann-Whitney U test](https://www.statskingdom.com/170median_mann_whitney.html)

<여기부터 원고 추가 필요>

### 사용자 로그 데이터로 T-test 하기: e-commerce business A/B test case study

[https://www.youtube.com/watch?v=VuKIN9S8Ivs](https://www.youtube.com/watch?v=VuKIN9S8Ivs)

<영상 부분을 요약하여 해설 및 다이어그램 제작> 

(문헌 24) 구글Docs 편집기 고객센터, FTEST,  [https://support.google.com/docs/answer/7004183?hl=ko&ref_topic=3105600](https://support.google.com/docs/answer/7004183?hl=ko&ref_topic=3105600)

(문헌 25) 구글Docs 편집기 고객센터, TTEST, [https://support.google.com/docs/answer/6055837?hl=ko](https://support.google.com/docs/answer/6055837?hl=ko)

(문헌 26) Statistics Kingdom, Two Sample T-Test Calculator (Pooled-Variance),

[https://www.statskingdom.com/140MeanT2eq.html](https://www.statskingdom.com/140MeanT2eq.html)